<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />-->
    <title></title>
    <!--[if lt IE 9]>
<?import namespace="v" implementation="#default#VML" ?>
<![endif]-->
    <link href="../../../themes/lightblue/jqueryui/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" />
    <link href="../../../themes/lightblue/page/page.css" rel="stylesheet" />
    <link href="codebase/GooFlow.css" rel="stylesheet" />
    <link href="../../../Javascript/ztree/css/demo.css" rel="stylesheet" />
    <link href="../../../Javascript/ztree/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" />
    <link href="codebase/gf_Set.css" rel="stylesheet" />

    <script type="text/javascript" src="../../../Javascript/core/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../../../Javascript/GooFlow/GooFunc.js"></script>
    <script type="text/javascript" src="../../../Javascript/core/jquery-ui-1.10.3.custom.js"></script>
    <script type="text/javascript" src="../../../Javascript/ztree/js/jquery.ztree.core-3.5.js"></script>
    <script type="text/javascript" src="../../../javascript/common/tools.js"></script>
    <script type="text/javascript" src="js/gf_Set.js"></script>
    <script src="js/GooFlow.js" type="text/javascript"></script>
    <script type="text/javascript" src="js/insertAtPosition.js"></script>
    <script src="js/jquery.select.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../../javascript/common/tools.js"></script>
</head>
<body>
    <div id="divParent">
        <div class="top">
            <ul>
                <!--                <li>
                    <input type="button" name="FullScreen" value="全屏显示" onclick="window.open(document.location, 'big', 'fullscreen=yes,top=0,left=0,toolbar=yes,menubar=yes,scrollbars=yes, resizable=yes,location=no, status=no')" />
                </li>
                <li>
                    <input type="button" name="FullScreen" value="全屏显示2" onclick="window.open('http://localhost:4675/web/Plugin/GooFlowTestYXY/GooFlowTest.htm?listtype=List&attachlistid=-1&listid=-2064468783', '_parent', 'fullscreen=yes'); opener = null; window.close()" />
                </li>
                <li>
                    <input type="button" name="FullScreen" value="全屏显示3" onclick="window.open('GooFlowTest.htm', '_parent', 'width=' + (window.screen.availWidth - 10) + ',height=' + (window.screen.availHeight - 30) + ',top=0,left=0,resizable=yes,status=yes,menubar=no,scrollbars=yes'); opener = null; window.close()" />
                </li>-->
            </ul>
        </div>
        <div id="menu">
            <div style="width: 210px; border: 0px solid red; float: left;">
                <ul>
                    <li>默认版本号:</li>
                    <li>
                        <label id="lblVersion" style="color: #1e95d8;">无</label></li>
                </ul>
            </div>
            <div style="border: 0px solid blue; width: auto; float: left;">
                <ul>
                    <li>版本号：</li>
                    <li style="width: 140px;">
                        <select id="selVersion">
                            <option value="-1">新建版本号(操作项)</option>
                        </select>
                    </li>
                    <li>
                        <input type="text" title="建议用报表名字+版本号，如：用户分析1.0" id="txtVersion" value="请输入新建的版本号" style="color: gray;" onblur="javascript:if(this.value==''){ this.value='请输入新建的版本号';this.style.color='gray'}" onfocus="javascript:if(this.value=='请输入新建的版本号'){ this.value=''; this.style.color='black';this.title='建议用报表名字+版本号，如：用户分析1.0'}" />
                    </li>
                    <li>
                        <img id="btnSaveData" src="codebase/img/01_a.png" alt="" title="保存" />
                    </li>
                    <li>
                        <img id="btnDelData" src="codebase/img/02_a.png" alt="" title="删除" />
                    </li>
                    <li>
                        <img id="btnDefaultSet" src="codebase/img/03_a.png" alt="" title="设为默认版本" />
                    </li>
                </ul>
            </div>
            <!--            <div style="float: right; border: 0px solid blue; width: auto; margin-right: 23px;">
                <ul>
                    <li>
                        <img id="btnFullScreen" src="codebase/img/05_a.png" alt="" title="全屏" /></li>
                    <li>
                        <img id="btnView" src="codebase/img/04_a.png" alt="" title="预览" /></li>
                </ul>
            </div>-->
        </div>
        <div id="box">
            <div id="leftTree">
                <table id="GFTable" border="0" cellspacing="0" cellpadding="0">
                    <tr>
                        <td id="zTreeTitle">模板列表</td>
                    </tr>
                    <tr>
                        <td>
                            <div style="background-color: #EFEFEF; border: 0px solid red; text-align: left; clear: both; width: 100%; padding-top: 2px;">
                                <input type="text" style="width: 155px; height: 20px; line-height: 20px; margin-left: 1px; margin-bottom: 1px; padding-left: 3px; border: 1px solid #ccc;" id="txtSearch" name="name" value="输入报表名字查询" class="empty" />
                                <img id="search" title="模糊查询报表" alt="" style="line-height: 20px; cursor: pointer; position: absolute; left: 168px;" src="codebase/img/cx.png" />
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td id="tip" style="text-align: left; display: none; color: red; font-size: 12px;">
                            <span>没有符合条件的报表</span>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <ul id="treeID" class="ztree"></ul>
                        </td>
                    </tr>
                </table>
            </div>
            <div id="rightMain">
                <div id="demo"></div>
                <!--<input value="reinitSize" onclick="demo.reinitSize(1000, 600)" type="button" />-->
            </div>
        </div>
    </div>
    <div id="rMenu">
        <ul>
            <li id="m_addCategory" onclick="addNode('category');">增加类别</li>
            <li id="m_addReport" onclick="addNode('report');">增加报表</li>
            <li id="m_edit" onclick="editNode();">编辑名称</li>
            <li id="m_del" onclick="removeTreeNode();">删除报表</li>
        </ul>
    </div>
    <!--节点属性设置 开始-->
    <div class="gl_box" id="gl_box">
        <div class="gl_close" title="关闭当前窗口">
            <a href="#" hidefocus="true">
                <img src="codebase/img/gl_close.jpg" width="16" height="16" alt="" /></a>
        </div>
        <div class="gl_tit" id="gl_tit">节点属性设置</div>
        <div class="gl_cont">
            <ul class="gl_cont_L">
                <li><span id="tipFact">事实名称：</span><select id="selFact">
                </select>
                </li>
                <li><span>分析纬度：</span><select id="selDim">
                </select>
                </li>
                <li><span>分析层次：</span><select id="selHier">
                </select>
                </li>
                <li><span>分析粒度：</span><select id="selLevel">
                </select>
                </li>
                <li id="liShowCount"><span>异常个数：</span>
                    <div id="isShowCount">
                        <label>
                            <input type="radio" name="RadioGroup1" value="1" id="RadioGroup1_1" />
                            显示</label>
                        <label>
                            <input type="radio" name="RadioGroup1" value="0" id="RadioGroup1_0" checked="checked" />
                            不显示</label>
                    </div>
                </li>
                <li><span>显示内容：</span><textarea id="txtNodeName" cols="" rows="" style="height: 70px;"></textarea></li>
            </ul>
            <div class="gl_cont_R">
                <div class="gl_cont_R_tit">
                    表达式：<select name="" id="selExpression">
                        <option value="0">指标表达式</option>
                        <option value="1">维度表达式</option>
                        <option value="2">维度转换</option>
                        <option value="3">关联粒度</option>
                    </select>
                    <!--<label id="lblCondition" style="display: none; margin-left: 3px; font-family: Arial; color: black; font-size: 14px; font-weight: normal;">
                        判断条件：<input type="radio" name="meaCondition" checked="checked" value="1" id="meaTrue" />
                        是条件&nbsp;&nbsp;<input type="radio" name="meaCondition" value="0" id="meaFalse" />
                        否条件</label>-->
                    <ul>
                        <li id="liAdd">
                            <img src="codebase/img/gl_jia.png" alt="" /><a id="btnAddDiv">增加</a></li>
                        <li id="liEdit">
                            <img src="codebase/img/gl_bian.png" alt="" /><a id="btnEditDiv">编辑</a></li>
                        <li id="liDel">
                            <img src="codebase/img/gl_clear.png" alt="" /><a id="btnDelDiv">删除</a></li>
                        <li id="liReturn">
                            <img src="codebase/img/return.jpg" alt="" /><a id="btnReturnDiv">返回</a></li>
                        <li id="liMeaRealtion" style="width: 75px;">
                            <img src="codebase/img/set.png" alt="" /><a id="btnMeaSetDiv">关系配置</a></li>
                    </ul>
                </div>
                <!--指标表达式配置 开始-->
                <div class="gl_cont_R_main" id="expressionDefault">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">指标表达式配置结果：</label><br />
                        <span style="border: 0px solid #FFF; position: absolute; overflow: hidden;">
                            <select size="10" id="selMeaResult" style="width: 315px; padding-top: 3px; margin: -2px;">
                            </select>
                        </span>
                    </div>
                    <div class="gl_cont_R_main_pz">
                        <label style="font-family: Arial; color: black; font-size: 15px;">表达式关系配置结果：</label><br />
                        <textarea id="txtAreaRelResult" onfocus="javascript:return false;" cols="" rows="" style="border: 0; border-top: 1px solid #ccc; padding-top: 3px; width: 153px; height: 160px; overflow: hidden;" readonly="readonly">无</textarea>
                    </div>
                </div>
                <div class="gl_cont_R_main" id="expressionSet">
                    <div class="gl_cont_R_main_zb">
                        <div class="gl_jia_box">
                            <input style="display: none" name="RadioGroupSet" type="radio" checked="checked" class="gl_jia_radio" value="0" />
                            <ul class="gl_jia">
                                <li><span>指标分析：</span>
                                    <!--<select id="selMeas" style="width: 140px; padding-left: -115px; padding-right: 3px;">
                                    </select>-->
                                    <span id="divAllMea">▼</span>
                                    <input type="text" id="txtInputSection" />
                                    <input type="text" id="txtSectionID" style="display: none;" />
                                </li>
                                <li><span>分析类型：</span><select id="selAnaType">
                                    <option value="3" selected="selected">指标值预警</option>
                                    <option value="2">环比增幅预警</option>
                                    <option value="1">同比增幅预警</option>
                                </select></li>
                                <li><span class="yzsz">阈值设置：</span>
                                    <ul class="yzsz_box">
                                        <li>
                                            <form id="form2">
                                                <p>
                                                    <label>
                                                        <input type="radio" name="RadioGroup2" checked="checked" value=" AND " id="RadioGroup2_0" />
                                                        且</label>
                                                    <label>
                                                        <input type="radio" name="RadioGroup2" value=" OR " id="RadioGroup2_1" />
                                                        或</label>
                                                </p>
                                            </form>
                                        </li>
                                        <li>
                                            <select id="selSignUp">
                                                <option sign="<" value="3" selected="selected">小于</option>
                                                <option sign="<=" value="4">小于等于</option>
                                                <option sign="=" value="5">等于</option>
                                            </select>
                                            <input type="text" class="text" id="txtThreUp" />
                                        </li>
                                        <li>
                                            <select id="selSignDown">
                                                <option sign=">" value="1" selected="selected">大于</option>
                                                <option sign=">=" value="2">大于等于</option>
                                                <option sign="=" value="5">等于</option>
                                            </select>
                                            <input type="text" class="text" id="txtThreDown" />
                                        </li>
                                    </ul>
                                </li>
                                <li><span>URL地址：</span>
                                    <textarea id="txtAreaURL" cols="" rows=""></textarea></li>
                                <li><span>TOPN值：</span>
                                    <input type="text" id="txtTopN" style="width: 80px; height: 24px; border: 1px solid #ccc;" />
                                </li>
                            </ul>
                        </div>
                        <div class="gl_jia_box2">
                            <input style="display: none" name="RadioGroupSet" type="radio" class="gl_jia_radio" value="1" />
                            <ul class="gl_jia2">
                                <li><span>SQL配置：</span>
                                    <textarea id="txtAreaSQL" cols="" rows="" style="color: gray;" onblur="javascript:if(this.value==''){ this.value='需要的SQL格式：∵SQL∵sql语句◆';this.style.color='gray'}" onfocus="javascript:if(this.value=='需要的SQL格式：∵SQL∵sql语句◆'){ this.value=''; this.style.color='black';}"></textarea>
                                </li>
                                <li><span>背景颜色：</span><select id="selColorDown" style="width: 70px; height: 24px;">
                                    <option selected="selected" value="blue">蓝色</option>
                                    <option value="red">红色</option>
                                    <option value="yellow">黄色</option>
                                </select></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!--指标表达式配置 结束-->
                <!--关系表达式配置 开始-->
                <div class="gl_cont_R_main" id="meaRelationSet">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">指标表达式：</label><br />
                        <span style="border: 0px solid #FFF; position: absolute; overflow: hidden">
                            <select size="10" id="selMeaRelation" style="width: 300px; margin: -2px; padding-top: 3px;">
                            </select>
                        </span>
                    </div>
                    <div class="gl_cont_R_main_pz">
                        <label style="font-family: Arial; color: black; font-size: 15px;">表达式关系配置符号：</label><br />
                        <div class="gl_cont_R_main_pz_input">
                            <input name="oper" type="button" value="(" /><input name="oper" type="button" value=")" /><input name="oper" type="button" value=" AND " /><input name="oper" type="button" value=" OR " />
                        </div>
                        <div style="border: 0px solid red; margin-top: 3px; height: 40px; width: 154px; border-top: 1px solid #ccc; padding-top: 3px;">
                            <label title='可以手动编辑预览结果' style="font-family: Arial; color: black; font-size: 15px;">关系配置预览结果：</label><br />
                            <textarea id="txtAreaMeaRelation" onmousemove="javascript:this.title='可以手动编辑预览结果'" cols="" rows="" style="border: 1px solid #B8DCFB; height: 106px; width: 152px; margin-left: 0; overflow: hidden;"></textarea>
                        </div>
                    </div>
                </div>
                <!--关系表达式配置  结束-->
                <!--维度表达式 开始-->
                <div class="gl_cont_R_main" id="dimDefault">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">维度表达式配置结果：</label><br />
                        <select size="10" id="selDimResult" style="margin: -2px; width: 470px; margin-top: 3px; border: 0;">
                        </select>
                    </div>
                </div>
                <div class="gl_cont_R_main" id="dimSet">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">维度表达式配置：</label><br />
                        <ul class="gl_weidu">
                            <!-- <li><span>事实名称：</span><select id="selFactSet">
                            </select></li>-->
                            <li><span>纬度名称：</span><select id="selDimSet">
                            </select></li>
                            <li><span>粒度名称：</span><select id="selLevelSet">
                            </select></li>
                            <li><span>粒度值：</span><input id="txtLevelVal" type="text" /></li>
                        </ul>
                    </div>
                </div>
                <!--维度表达式 结束-->
                <!--维度转换 开始-->
                <div class="gl_cont_R_main" id="dimSwitchDefault">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">维度转换配置结果：</label><br />
                        <ul class="gl_zhuanhuanResult">
                            <li><span>父节点粒度显示名：</span><input disabled="disabled" title="只读" id="txtPDisplayNameResult" type="text" /></li>
                            <li><span>父节点粒度描述列：</span><input disabled="disabled" title="只读" id="txtPColNameResult" type="text" /></li>
                            <li><span>当前点粒度显示名：</span><input disabled="disabled" title="只读" id="txtCDisplayNameResult" type="text" /></li>
                            <li><span>当前点粒度描述列：</span><input disabled="disabled" title="只读" id="txtCColNameResult" type="text" /></li>
                            <li><span>转换关系表：</span><select disabled="disabled" title="只读" style="background-color: #F0F0F0" id="selDimSwitchResult">
                            </select></li>
                        </ul>
                    </div>
                </div>
                <div class="gl_cont_R_main" id="dimSwitchSet">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">维度转换配置界面：</label><br />
                        <ul class="gl_zhuanhuan">
                            <li><span>父节点粒度显示名：</span><input id="txtPDisplayName" type="text" /></li>
                            <li><span>父节点粒度描述列：</span><input id="txtPColName" type="text" /></li>
                            <li><span>当前点粒度显示名：</span><input id="txtCDisplayName" type="text" /></li>
                            <li><span>当前点粒度描述列：</span><input id="txtCColName" type="text" /></li>
                            <li><span>转换关系表：</span><select id="selDimSwitch">
                            </select></li>
                        </ul>
                    </div>
                </div>
                <!--维度转换 结束-->
                <!--关联粒度 开始-->
                <div class="gl_cont_R_main" id="levelDefault">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">关联粒度配置结果：</label><br />
                        维度名称：<label id="lblDimName" style="font-family: inherit; color: black; font-size: 14px;">地理维</label><br />
                        关联粒度：<label id="lblLevelRelStr" style="font-family: inherit; color: black; font-size: 14px;">lac ci</label>
                    </div>
                </div>
                <div class="gl_cont_R_main" id="levelSet">
                    <div class="gl_cont_R_main_zb">
                        <label style="font-family: Arial; color: black; font-size: 15px;">关联粒度配置：</label><br />
                        <ul class="gl_weidu">
                            <li><span>纬度名称：</span><select id="selLevelDimSet">
                            </select></li>
                        </ul>
                        <div style="width: 460px; overflow: auto; border: 0px solid red; clear: both;">
                            <fieldset style="border: 2px solid #ccc; -webkit-border-radius: 2px; -moz-border-radius: 2px; border-radius: 2px;">
                                <legend style="font-size: 12px; margin-left: 5px;">粒度名称</legend>
                                <div id="divLevelsRelSet" style="height: auto; margin-left: 2px; overflow: auto; padding-bottom: 5px;">
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
                <!--关联粒度 结束-->
            </div>
            <div id="divShowMeas">
                <div style="color: black; border: 0px solid red; float: left; overflow: hidden; vertical-align: middle; margin-top: 5px; padding-top: 5px; padding-right: 0px;">
                    <span class="roundSpan">判断条件</span>：
                     <label id="lblCondition">
                         <label>
                             <input type="radio" name="meaCondition" checked="checked" value="1" id="meaTrue" />是</label>
                         <label>
                             <input type="radio" name="meaCondition" value="0" id="meaFalse" />否</label>
                     </label>
                    <span style="margin-right: 0;" class="roundSpan">已配指标</span>：
                </div>
                <div id="meaShowStr" style="width: 448px; float: left; border: 0px solid blue; color: black; margin-top: 5px; padding: 5px 0 5px 0; overflow-x: auto; overflow-y: hidden; white-space: nowrap;">
                </div>
            </div>
            <div class="gl_input">
                <input type="button" value="取消" id="btnCancleDown" /><input type="button" value="确定" id="btnOkDown" />
            </div>
            <div class="clear">&nbsp;</div>
        </div>
    </div>
    <!--节点属性设置 结束-->
    <div id="divLoadingStatus" style="display: none; text-align: center; padding-top: 200px; color: Red; font-size: larger;"
        class="ui-widget-overlay">
        <img alt="" style="margin-top: 50px; display: inline;" src="codebase/img/loading.gif" />
        <div>&nbsp;&nbsp;&nbsp;请稍等,数据加载中.....</div>
    </div>
    <div id="saveInfo">
        <table style="width: 100%; margin: 0px auto; border-radius: 5px;" cellpadding="0" cellspacing="0">
            <tr>
                <th class="gl_tit" colspan="2">
                    <div id="divSaveTitle" style="text-align: left;">
                        核对保存信息
                    </div>
                    <div id="divSave_close" class="gl_close" title="关闭当前窗口">
                        <a href="#" hidefocus="true">
                            <img src="codebase/img/gl_close.jpg" width="16" height="16" alt="" /></a>
                    </div>
                </th>
            </tr>
            <tr>
                <td style="text-align: right;"><span class="roundSpan">当前报表名称</span>：</td>
                <td>
                    <label id="lblReportName"></label>
                </td>
            </tr>
            <tr id="trVersionName">
                <td style="text-align: right;"><span class="roundSpan">当前版本名称</span>：</td>
                <td>
                    <label id="lblVName"></label>
                </td>
            </tr>
            <tr>
                <td style="text-align: right;"><span class="roundSpan">对该版本操作</span>：</td>
                <td id="tdOper">
                    <label>
                        <input type="radio" name="versionOper" value="1" checked="checked" />
                        修改版本</label><label>
                            <input type="radio" name="versionOper" value="0" />
                            新建版本</label>
                </td>
            </tr>
            <tr></tr>
            <tr id="trNewVersion" style="display: none;">
                <td style="text-align: right;"><span class="roundSpan">新建版本名称</span>：</td>
                <td>
                    <input style="height: 22px; width: 160px;" type="text" id="txtNewVersion" />
                </td>
            </tr>
            <tr>
                <td colspan="2" style="color: blue; font-size: 12px; margin-top: 10px;">提示：版本号名称一旦保存，不能修改，请慎重更改名称</td>
            </tr>
            <tr>
                <td>&nbsp;</td>
                <td>
                    <div class="gl_input">

                        <input type="button" id="versionOk" value="确定" style="margin-right: 10px; width: 50px; margin-top: 10px;" />
                        <input type="button" id="versionCancle" value="取消" style="width: 50px; margin-top: 10px;" />
                    </div>
                </td>
            </tr>
        </table>
    </div>

</body>
</html>
